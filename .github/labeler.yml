# ğŸ·ï¸ Auto-Labeller Configuration
# This file defines automatic label assignment rules based on file paths and content changes

# ================================
# ğŸ“ Core Components
# ================================

# Authentication Core
'ğŸ” auth:core':
  - 'src/modules/auth.module.ts'
  - 'src/services/auth.service.ts'
  - 'src/services/auth.service.spec.ts'
  - 'src/controllers/auth.controller.ts'
  - 'src/dto/auth/**/*'
  - 'src/dto/auth.dto.ts'

# JWT & Token Management
'ğŸ« auth:tokens':
  - 'src/services/token.service.ts'
  - 'src/guards/jwt-auth.guard.ts'
  - 'src/services/verification.service.ts'

# Two-Factor Authentication
'ğŸ”’ auth:2fa':
  - 'src/services/two-factor.service.ts'
  - 'src/dto/auth/two-factor*.dto.ts'
  - 'src/services/backup-codes.service.ts'
  - 'src/entities/backup-code.entity.ts'

# Device Management
'ğŸ“± auth:devices':
  - 'src/services/device.service.ts'
  - 'src/services/device.service.spec.ts'
  - 'src/entities/device.entity.ts'
  - 'src/dto/auth/*device*.dto.ts'

# Cryptography & Security
'ğŸ”‘ security:crypto':
  - 'src/services/crypto.service.ts'
  - 'src/entities/identity-key.entity.ts'
  - 'src/entities/prekey.entity.ts'
  - 'src/entities/signed-prekey.entity.ts'

# ================================
# ğŸ—ï¸ Infrastructure & Configuration
# ================================

# Database & Entities
'ğŸ—„ï¸ database':
  - 'src/entities/**/*'
  - 'src/migrations/**/*'
  - 'init.sql'
  - any: ['**/*entity*.ts', '**/*migration*.ts']

# Configuration
'âš™ï¸ config':
  - 'src/main.ts'
  - 'src/app.module.ts'
  - 'src/health-check.ts'
  - '**/*config*.ts'
  - '**/*config*.js'
  - 'ecosystem.config.js'
  - 'nest-cli.json'
  - 'tsconfig*.json'

# Health & Monitoring
'ğŸ’Š health':
  - 'src/health/**/*'
  - 'src/health-check.ts'

# ================================
# ğŸŒ Communication & APIs
# ================================

# Controllers & APIs
'ğŸ® api:controllers':
  - 'src/controllers/**/*'
  - any: ['**/*controller*.ts']

# gRPC Services
'ğŸ”— api:grpc':
  - 'src/grpc/**/*'
  - any: ['**/*grpc*.ts', '**/*.proto']

# DTOs & Interfaces
'ğŸ“‹ api:dto':
  - 'src/dto/**/*'
  - 'src/interfaces/**/*'
  - any: ['**/*dto*.ts', '**/*interface*.ts']

# ================================
# ğŸ›¡ï¸ Security & Middleware
# ================================

# Guards & Security
'ğŸ›¡ï¸ security:guards':
  - 'src/guards/**/*'
  - any: ['**/*guard*.ts']

# Rate Limiting
'â±ï¸ security:rate-limit':
  - 'src/guards/rate-limit.guard.ts'
  - any: ['**/*throttle*.ts', '**/*rate*.ts']

# Interceptors & Middleware
'ğŸ”„ middleware':
  - 'src/interceptors/**/*'
  - 'src/pipes/**/*'
  - 'src/decorators/**/*'
  - any: ['**/*interceptor*.ts', '**/*pipe*.ts', '**/*decorator*.ts']

# ================================
# ğŸ§ª Testing & Quality
# ================================

# Unit Tests
'ğŸ§ª tests:unit':
  - '**/*.spec.ts'
  - 'src/**/*.test.ts'

# E2E Tests
'ğŸ”¬ tests:e2e':
  - 'test/**/*'
  - '**/*.e2e-spec.ts'
  - 'test/jest-e2e.json'
  - 'test/setup-e2e.ts'

# ================================
# ğŸš€ DevOps & Infrastructure
# ================================

# Docker & Containers
'ğŸ³ devops:docker':
  - 'docker/**/*'
  - 'Dockerfile*'
  - 'docker-compose*.yml'
  - '.dockerignore'

# CI/CD Workflows
'âš¡ devops:ci-cd':
  - '.github/workflows/**/*'
  - '.github/actions/**/*'

# Nginx & Reverse Proxy
'ğŸŒ devops:nginx':
  - 'nginx.conf'
  - '**/*nginx*.conf'

# Scripts & Automation
'ğŸ“œ devops:scripts':
  - 'scripts/**/*'
  - '**/*.sh'

# ================================
# ğŸ“š Documentation
# ================================

# Architecture Documentation
'ğŸ“ docs:architecture':
  - 'documentation/1_architecture/**/*'

# Functional Specifications
'ğŸ“‹ docs:specs':
  - 'documentation/2_fonctional_specs/**/*'
  - 'documentation/3_technical_specs/**/*'

# Operational Documentation
'ğŸ”§ docs:operations':
  - 'documentation/4_exploitation/**/*'
  - 'documentation/DEPLOYMENT.md'
  - 'documentation/PRODUCTION.md'
  - 'documentation/DEVELOPMENT.md'

# Integration & Migration Docs
'ğŸ”— docs:integration':
  - 'documentation/5_integration/**/*'
  - 'documentation/INTEGRATION.md'
  - 'documentation/MIGRATION.md'

# Governance & ADRs
'ğŸ“Š docs:governance':
  - 'documentation/6_governance/**/*'
  - 'documentation/6_governance/1_architectural_decisions_records/**/*'

# General Documentation
'ğŸ“– documentation':
  - 'README*.md'
  - 'documentation/**/*'
  - '**/*.md'

# ================================
# ğŸ”§ Development Tools
# ================================

# Dependencies & Package Management
'ğŸ“¦ dependencies':
  - 'package.json'
  - 'package-lock.json'
  - 'yarn.lock'
  - 'pnpm-lock.yaml'

# Linting & Formatting
'ğŸ¨ tools:linting':
  - '.eslintrc*'
  - '.prettierrc*'
  - '.editorconfig'

# Security Scanning
'ğŸ”’ tools:security':
  - 'sonar-project.properties'
  - '.github/templates/grype-html.tmpl'

# ================================
# ğŸ¯ Special Categories
# ================================

# Breaking Changes
'ğŸ’¥ breaking-change':
  - 'src/main.ts'
  - 'src/app.module.ts'
  - 'src/modules/**/*'
  - 'src/migrations/**/*'

# Performance Critical
'âš¡ performance':
  - 'src/services/**/*'
  - 'src/guards/**/*'
  - 'src/interceptors/**/*'
  - any: ['**/*cache*.ts', '**/*redis*.ts']

# External Dependencies
'ğŸŒ external':
  - any: ['**/*sms*.ts', '**/*twilio*.ts', '**/*grpc*.ts']
